angular.module("flash",[]).factory("flash",["$rootScope","$timeout",function(a,b){var c,d=[],e=function(){b.cancel(c),c=b(function(){d=[]})},f=function(){a.$emit("flash:message",d,e)};a.$on("$locationChangeSuccess",f);var g=function(a,b){return b||(b=a,a="success"),{level:a,text:b}},h=function(a,b){return a instanceof Array?a.map(function(a){return a.text?a:g(a)}):b?[{level:a,text:b}]:[g(a)]},i=function(a,b){f(d=h(a,b))};return["error","warning","info","success"].forEach(function(a){i[a]=function(b){i(a,b)}}),i}]).directive("flashMessages",[function(){var a={restrict:"EA",replace:!0};return a.template='<ol id="flash-messages"><li ng-repeat="m in messages" class="{{m.level}}">{{m.text}}</li></ol>',a.controller=["$scope","$rootScope",function(a,b){b.$on("flash:message",function(b,c,d){a.messages=c,d()})}],a}]);